generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model User {
  id       Int     @id @default(autoincrement())
  email    String  @unique
  name     String?
  password String
}

model Buyers {
  id         Int        @id @default(autoincrement())
  fullName   String
  city       String?
  payment    Int
  buyingDate DateTime
  products   Products[]
  purchase   Purchase[]
}

model Products {
  id           Int      @id @default(autoincrement())
  itemName     String
  buyingPrice  Int
  quantity     Int
  sellingPrice Int
  unit         String
  buyerId      Int? // Add a field for the foreign key
  buyingDate   DateTime
  buyer        Buyers?  @relation(fields: [buyerId], references: [id])
}

model Purchase {
  id             Int      @id @default(autoincrement())
  item           String
  perUnitPrice   Int
  quantity       Int
  purchasingDate DateTime
  totalAmount    Int
  buyerId        Int?
  buyer          Buyers?  @relation(fields: [buyerId], references: [id])
}
